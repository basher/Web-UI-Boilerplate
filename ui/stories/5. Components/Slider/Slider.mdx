import { Meta, Canvas, Controls } from '@storybook/blocks';
import * as Slider from './Slider.stories';
import * as SliderNoArgs from './SliderNoArgs.stories';

<Meta of={Slider} />

# CSS-only slider
- The default slider can be operated using CSS only.
- It leverages [CSS scroll snap](https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-snap-type) to improve keyboard-only behaviour.
- Slide widths are defined by the CSS `--slide-min-width` custom property. This can be overridden for specific slider implementations. For example, see the [card slider](/story/components-cards--card-slider).

## Accessibility considerations
- Based on [Inclusive Components slider](https://inclusive-components.design/a-content-slider/) and [ARIA APG carousel pattern](https://www.w3.org/WAI/ARIA/apg/patterns/carousel/).
- The slider has `tabindex="0"` so it can receive keyboard `focus`, and be operated via the `LEFT|RIGHT` arrow keys.
- CSS `scroll-snap` ensures the slider stops at a complete slide.

<Canvas of={SliderNoArgs.Slider} />

## CSS-only fullwidth slides (e.g. banner carousel)
<Canvas of={SliderNoArgs.SlidesFullwidth} />

## CSS-only clickable slides (e.g. cards, image thumbnails)
<Canvas of={SliderNoArgs.SlidesClickable} />

## Slides with JavaScript enhancements
- The default CSS slider can be enhanced with JavaScript to show a slide count, PREV and NEXT buttons, etc.
- Native scrolling with `LEFT|RIGHT` arrow keys is overridden, allowing JavaScript to correctly update the slide count when using arrow keys.
- Each slide has an `aria-label`, indicating the current slide number and the total number of slides.
- When PREV and NEXT buttons are shown, keyboard `focus` is modified such that **only visible slides are focusable**.

Attribute | JavaScript behaviour
--- | ---
`data-module="slider"` | Slider container. Instantiates Slider class.
`data-slide-count="true"` | Displays slide count & current slide.
`data-slide-count-pips="true"` | Displays slide count & current slide as pips instead of text.
`data-prev-next-buttons="true"` | Displays PREV and NEXT slide buttons.

### TODO
- Update counter with touch/swipe events?

<Canvas of={Slider.SliderEnhancedJS} />
<Controls of={Slider.SliderEnhancedJS} />
