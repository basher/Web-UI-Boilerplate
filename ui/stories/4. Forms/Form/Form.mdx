import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as Form from './Form.stories';
import * as FormNoArgs from './FormNoArgs.stories';

<Meta of={Form} />

# Forms

## Accessibility considerations
- All form fields need a `<label>`, which is explicitly associated with the relevant field with `for | id` attribute pairs.
- Any "grouped" form fields (e.g. `<input type="radio">`) should be enclosed in a `<fieldset>` with an appropriate `<legend>` to provide additional context for assistive technologies.
- Required fields need a `required` attribute on the interactive controls.
    - This boilerplate does not use a visual indicator (such as an asterisk) to identify required fields.
    - Instead, optional fields are clearly identified in the `<label>`.
    - If required fields are visually indicated, hide the indicator from assistive technologies with `aria-hidden="true"`.
- Invalid fields should be identified with `aria-invalid="true"` and `aria-describedby` which references the `id` of appropriate error text.

### Additional reading
- [Form controls should not be disabled](https://adrianroselli.com/2024/02/dont-disable-form-controls.html).
- [Creating accessible forms](https://webaim.org/techniques/forms/controls).
- [Accessible form validation](https://www.smashingmagazine.com/2023/02/guide-accessible-form-validation/).
- [Form input types for better mobile user experiences](https://css-tricks.com/better-form-inputs-for-better-mobile-user-experiences/).

## Native HTML5 browser validation
- Uses `:valid`, `:invalid`, `:user-invalid` and `:required` CSS pseudo classes.

<Canvas of={Form.Form} />
<Controls of={Form.Form} />

## Server-side validation
- Uses the [`<webui-notify>`](/docs/web-components-or-custom-elements-webui-notify--docs) Web Component to add an additional error summary block at the top of the form.
- List all the form errors, with anchors to each form field that has an error.

<Canvas of={FormNoArgs.FormServerValidation} />

## `<webui-form-validate>` JavaScript validation
- See the [`<webui-form-validate>`](/docs/web-components-or-custom-elements-webui-form-validate--docs) Web Component.
