import { Meta, Canvas } from '@storybook/addon-docs/blocks';
import * as Colours from './Colours.stories';

<Meta of={Colours} />

# Colour palette / swatch

<Canvas of={Colours.Colours} />

## Dark mode
- Colours will be updated automatically if the operating system preference for `dark mode` is selected. This triggers the CSS `prefers-color-scheme: dark` media query and/or `light-dark()` function.
- Specific dark mode colours can also be defined in `./ui/src/css/tokens.css`.

### Storybook dark mode addon
- This Storybook addon allows you to toggle between light (default) and dark mode manually in the Storybook UI.

> NOTE: The Storybook UI and stories switch to dark mode, but docs pages do not. There is a temporary workaround in `ui/public/storybook-overrides.css` to ensure docs text is legible (rendered as light mode).

## Using `OKLCH()` to define colours
> See [why OKLCH is better than HSL](https://evilmartians.com/chronicles/oklch-in-css-why-quit-rgb-hsl) and [OKLCH color picker tool](https://oklch.com/#70,0.1,293,100).

- For example, primitive tokens are declared like this:
```
:root {
    /* rebeccapurple */
    --webui-color-brand: oklch(44.03% 0.1603 303.37);
}
```
- Semantic tokens are declared like this (notice the use of [relative colors](https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Colors/Using_relative_colors) to increase the **lightness** of `--color-primary-100`):
```
:root {
    --color-primary-500: var(--webui-color-brand);
    --color-primary-100: oklch(from var(--webui-color-brand) calc(l + 0.2) c h);
}
```
## Browser compatibility
<baseline-status featureId="oklab"></baseline-status>
<baseline-status featureId="relative-color"></baseline-status>
<baseline-status featureId="color-scheme"></baseline-status>
