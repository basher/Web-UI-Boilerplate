/*
----------------------------------------------------------------------------
Dependencies.
----------------------------------------------------------------------------
*/
@use '../base' as *;

.carousel {
    --slide-min-width: 18.75rem;
    --slide-gap: #{var(--gutter-m)};

    display: flex;
    gap: var(--slide-gap, 1rem);
    overflow-x: auto;
    overscroll-behavior-inline: contain;
    scroll-snap-type: inline mandatory;
    /* stylelint-disable-next-line order/properties-alphabetical-order */
    -webkit-overflow-scrolling: touch; // iOS

    &:focus-visible {
        box-shadow: var(--focus-shadow);
        outline: var(--focus-outline);
    }

    &:focus:not(:focus-visible) {
        outline: var(--focus-outline);
    }

    &__slide {
        min-inline-size: min(var(--slide-min-width), 100%);
        scroll-snap-align: start;

        &:not([class]) {
            max-inline-size: none;
        }
    }

    &-instructions {
        display: none;

        .carousel:focus-visible ~ & {
            display: block;
        }
    }

    // Fullwidth slides.
    &--fullwidth {
        --slide-gap: 0;

        /* stylelint-disable-next-line no-descending-specificity */
        .carousel__slide {
            min-inline-size: 100%;
        }
    }

    // Clickable slides (e.g. cards, image thumbnails).
    &--has-clickable-slides {
        .carousel__slide > :is(a, button) {
            block-size: 100%;

            &:focus-visible {
                box-shadow: inset var(--focus-shadow);
            }
        }
    }
}
