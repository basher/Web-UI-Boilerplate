.nav {
    [aria-current] {
        color: light-dark(
            var(--webui-color-primary-500),
            var(--webui-color-neutral-100)
        );
        font-weight: bold;
    }

    a {
        color: inherit;
        text-decoration: none;

        &:hover {
            text-decoration: underline;
        }
    }
}

.nav__list {
    column-gap: var(--webui-gutter-xl);
    row-gap: var(--webui-gutter-xs);
}

/* Nav item that contains dropdown list. */
[data-nav-item-dropdown] {
    align-items: center;
    display: flex;
    gap: var(--webui-gutter-xs);
    position: relative;

    [aria-expanded='true'] {
        .icon {
            transform: rotate(180deg);
        }
    }

    .button {
        padding: var(--webui-gutter-xs);
    }
}

/* Dropdown list. */
[data-nav-list-dropdown] {
    background-color: light-dark(
        var(--webui-color-neutral-100),
        var(--webui-color-neutral-900)
    );
    border: var(--webui-border-width-s) solid;
    flex-direction: column;
    inset-block-start: 100%;
    inset-inline-start: 0;
    padding: var(--webui-gutter-m);
    position: absolute;
    z-index: 1; /* TODO: replace dropdown with popover API. */
}

/* Navigation with dropdown lists. */
[data-nav*='dropdown'] {
    > .nav__list {
        align-items: center;
    }

    /* stylelint-disable-next-line no-descending-specificity */
    .icon {
        transition: transform var(--webui-animation-fast);
    }
}

/* Hamburger navigation. */
[data-nav*='hamburger'] {
    .nav__list {
        flex-direction: column;
    }

    /* Hamburger button icons toggle. */
    /* 1. Native popover API. */
    &:has([popover]:popover-open) {
        .nav__hamburger-button {
            .icon:first-of-type {
                display: none;
            }
        }
    }

    &:has([popover]:not(:popover-open)) {
        .nav__hamburger-button {
            .icon:last-of-type {
                display: none;
            }
        }
    }

    /* 2. Fallback using <webui-disclosure> functionality. */
    .nav__hamburger-button {
        &[aria-expanded='false'] {
            /* stylelint-disable-next-line no-descending-specificity */
            .icon:last-of-type {
                display: none;
            }
        }

        &[aria-expanded='true'] {
            /* stylelint-disable-next-line no-descending-specificity */
            .icon:first-of-type {
                display: none;
            }
        }
    }
}

/* Hamburger with nested dropdown lists. */
[data-nav='hamburger-dropdown'] {
    webui-disclosure:defined {
        [data-nav-item-dropdown] {
            display: revert;
        }

        [data-nav-list-dropdown] {
            border: 0;
            position: relative;
        }
    }
}
